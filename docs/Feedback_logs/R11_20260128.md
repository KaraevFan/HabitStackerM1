# Habit Stacker M1 Implementation Guide

**Purpose:** Technical implementation guide for improving Habit Stacker's M1 build based on UX review. Prioritized for demo-readiness and beta preparation.

**Context:** Review the project files at `/mnt/project/design_brief.md` and `/mnt/project/PRD.md` for design system specifications and product requirements.

---

## Priority Legend

- **P0** ‚Äî Must fix for any demo (< 2 hours total)
- **P1** ‚Äî Should fix before beta users (< 1 day total)
- **P2** ‚Äî Nice to have, defer if time-constrained

---

## Architecture Issues

### Issue: Responsive Layout (P0)

**Problem:** All pages render with phone-screen dimensions even on desktop, making it appear broken rather than intentional.

**Solution:** Add a centered mobile-frame wrapper with intentional styling.

```css
/* Add to global styles */
.app-frame {
  max-width: 480px;
  margin: 0 auto;
  min-height: 100vh;
  background: var(--bg-primary);
  position: relative;
}

/* Optional: Add subtle frame on desktop */
@media (min-width: 768px) {
  body {
    background: var(--bg-tertiary);
  }
  
  .app-frame {
    box-shadow: 0 0 40px rgba(0, 0, 0, 0.08);
    border-radius: 24px;
    margin-top: 24px;
    margin-bottom: 24px;
    min-height: calc(100vh - 48px);
    overflow: hidden;
  }
}
```

**Files to modify:** Root layout component, global CSS

---

### Issue: State-Based Home Screen Routing (P1)

**Problem:** No clear "home" for returning users. The daily logging screen serves as de facto home but isn't optimized for different user states.

**Solution:** Implement state-based routing where the home URL renders different components based on user lifecycle state.

```typescript
// Suggested state machine
type UserState = 
  | 'new_user'           // ‚Üí Landing page
  | 'mid_conversation'   // ‚Üí Resume conversation
  | 'system_designed'    // ‚Üí "Ready to start" prompt
  | 'active_today'       // ‚Üí Today's action (current daily screen)
  | 'missed_yesterday'   // ‚Üí Recovery prompt
  | 'completed_week1'    // ‚Üí Week 2 transition

// Home route logic
function HomeScreen() {
  const userState = useUserState();
  
  switch (userState) {
    case 'new_user':
      return <LandingPage />;
    case 'mid_conversation':
      return <ResumeConversation />;
    case 'system_designed':
      return <ReadyToStart />;
    case 'active_today':
    case 'missed_yesterday':
    default:
      return <TodayScreen />;
  }
}
```

**Files to create/modify:** 
- Create `hooks/useUserState.ts`
- Modify home route component
- Create state-specific components as needed

---

### Issue: Multiple Habit Drafts vs Single Active Habit (P2)

**Problem:** Current implementation enforces one habit total, but users may want to explore/design multiple habits before committing.

**Solution:** Separate "design mode" (exploration) from "execution mode" (active habit).

```typescript
interface HabitDraft {
  id: string;
  status: 'draft' | 'active' | 'archived';
  system: HabitSystem;
  createdAt: string;
  activatedAt?: string;
}

// Allow multiple drafts, but only one can be 'active'
// When user clicks "Start first rep", transition draft ‚Üí active
// Warn if another habit is already active
```

**Note:** Defer this to M2 if time-constrained. For M1, the single-habit limitation is acceptable.

---

## Screen-by-Screen Improvements

---

## 1. Landing Page (P0)

**Current state:** Minimal text + "Start Consult" button. Feels barren and doesn't convey the conversational experience.

**Problems:**
- "Start Consult" sounds clinical, not inviting
- No preview of what the experience will be like
- Doesn't set expectations for time investment

### Implementation

**Option A: Conversational opener (Recommended)**

```jsx
// components/LandingPage.tsx

export function LandingPage() {
  return (
    <div className="landing-container">
      <div className="landing-content">
        {/* Warm, inviting headline */}
        <h1 className="landing-title">
          Let's design one small habit together.
        </h1>
        
        {/* Set expectations */}
        <p className="landing-subtitle">
          A 3-minute conversation ‚Üí your personalized system
        </p>
        
        {/* Optional: Preview snippet showing conversational nature */}
        <div className="conversation-preview">
          <div className="preview-message preview-ai">
            What's something you've been meaning to work on?
          </div>
          <div className="preview-message preview-user preview-faded">
            I want to get better with money...
          </div>
        </div>
        
        {/* Warmer CTA */}
        <button className="btn-primary landing-cta">
          Let's talk
        </button>
      </div>
    </div>
  );
}
```

**Styling:**

```css
.landing-container {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding: var(--space-6);
  text-align: center;
}

.landing-title {
  font-family: var(--font-display);
  font-size: var(--text-3xl);
  font-weight: 500;
  color: var(--text-primary);
  margin-bottom: var(--space-3);
  letter-spacing: -0.02em;
}

.landing-subtitle {
  font-family: var(--font-body);
  font-size: var(--text-base);
  color: var(--text-secondary);
  margin-bottom: var(--space-6);
}

.conversation-preview {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  margin-bottom: var(--space-6);
  width: 100%;
  max-width: 320px;
}

.preview-message {
  padding: var(--space-3) var(--space-4);
  border-radius: 12px;
  font-size: var(--text-sm);
  text-align: left;
}

.preview-ai {
  background: var(--ai-message-bg);
  border: 1px solid var(--bg-tertiary);
  align-self: flex-start;
}

.preview-user {
  background: var(--user-message-bg);
  color: var(--user-message-text);
  align-self: flex-end;
}

.preview-faded {
  opacity: 0.6;
}

.landing-cta {
  min-width: 160px;
}
```

**Option B: Simpler warmth (If preview feels too busy)**

```jsx
<div className="landing-container">
  <h1 className="landing-title">
    What's been on your mind lately?
  </h1>
  <p className="landing-subtitle">
    We'll spend a few minutes understanding what you're trying to change, 
    then design a system that fits your life.
  </p>
  <button className="btn-primary landing-cta">
    Begin
  </button>
</div>
```

---

## 2. Post-Design System Reveal (P1)

**Current state:** Single screen showing habit system, explanation, setup checklist, and feedback rating all at once.

**Problem:** Information overload undermines the "moment of revelation." Too many jobs on one screen.

### Implementation: Multi-Screen Flow

Split into 4 sequential screens. User progresses through each before reaching the daily screen.

**Screen 2a: Identity Frame**

```jsx
// components/onboarding/IdentityReveal.tsx

export function IdentityReveal({ identity, identityBehaviors, onNext }) {
  return (
    <div className="reveal-screen">
      <button className="back-button" onClick={onBack}>
        ‚Üê Back
      </button>
      
      <div className="reveal-content">
        <p className="reveal-label">You're becoming</p>
        
        <h1 className="identity-statement">
          {identity}
        </h1>
        
        {identityBehaviors && identityBehaviors.length > 0 && (
          <div className="identity-behaviors">
            <p className="behaviors-intro">
              People with this identity typically:
            </p>
            <ul className="behaviors-list">
              {identityBehaviors.map((behavior, i) => (
                <li key={i}>{behavior}</li>
              ))}
            </ul>
          </div>
        )}
      </div>
      
      <div className="reveal-footer">
        <button className="btn-primary" onClick={onNext}>
          Next ‚Üí
        </button>
      </div>
    </div>
  );
}
```

**Screen 2b: Ritual Reveal**

```jsx
// components/onboarding/RitualReveal.tsx

export function RitualReveal({ system, habitEmoji, onNext, onAdjust }) {
  const ritualStatement = formatRitualStatement(system);
  
  return (
    <div className="reveal-screen">
      <button className="back-button" onClick={onBack}>
        ‚Üê Back
      </button>
      
      <div className="reveal-content">
        <div className="habit-emoji">{habitEmoji}</div>
        
        <blockquote className="ritual-statement">
          "{ritualStatement}"
        </blockquote>
        
        <p className="ritual-explanation">
          {system.whyItFits}
        </p>
      </div>
      
      <div className="reveal-footer">
        <button className="btn-primary" onClick={onNext}>
          This feels right
        </button>
        <button className="btn-text" onClick={onAdjust}>
          Let me adjust
        </button>
      </div>
    </div>
  );
}
```

**Screen 2c: Setup Checklist**

```jsx
// components/onboarding/SetupChecklist.tsx

export function SetupChecklist({ items, onComplete, onSkip }) {
  const [checkedItems, setCheckedItems] = useState<Set<string>>(new Set());
  
  const toggleItem = (id: string) => {
    const next = new Set(checkedItems);
    if (next.has(id)) {
      next.delete(id);
    } else {
      next.add(id);
    }
    setCheckedItems(next);
  };
  
  const completedCount = checkedItems.size;
  const totalCount = items.length;
  
  return (
    <div className="reveal-screen">
      <button className="back-button" onClick={onBack}>
        ‚Üê Back
      </button>
      
      <div className="reveal-content">
        <h2 className="setup-title">Set yourself up for success</h2>
        <p className="setup-subtitle">
          Before your first rep, a few quick things:
        </p>
        
        <div className="setup-items">
          {items.map((item) => (
            <label key={item.id} className="setup-item">
              <input
                type="checkbox"
                checked={checkedItems.has(item.id)}
                onChange={() => toggleItem(item.id)}
              />
              <span className="setup-item-text">{item.text}</span>
            </label>
          ))}
        </div>
        
        <p className="setup-progress">
          {completedCount} of {totalCount} complete
        </p>
      </div>
      
      <div className="reveal-footer">
        <button className="btn-primary" onClick={onComplete}>
          I've done these
        </button>
        <button className="btn-text" onClick={onSkip}>
          Remind me later
        </button>
      </div>
    </div>
  );
}
```

**Screen 2d: Ready to Start**

```jsx
// components/onboarding/ReadyToStart.tsx

export function ReadyToStart({ onStartNow, onStartLater }) {
  return (
    <div className="reveal-screen">
      <button className="back-button" onClick={onBack}>
        ‚Üê Back
      </button>
      
      <div className="reveal-content">
        <h2 className="ready-title">Your first rep is simple</h2>
        
        <p className="ready-message">
          Just do it once. Don't worry about doing it perfectly.
        </p>
        
        <p className="ready-permission">
          Week 1 is about showing up, not optimizing.
        </p>
      </div>
      
      <div className="reveal-footer">
        <button className="btn-primary" onClick={onStartNow}>
          Start first rep today
        </button>
        <button className="btn-text" onClick={onStartLater}>
          I'll start tomorrow
        </button>
      </div>
    </div>
  );
}
```

**Flow Controller:**

```jsx
// components/onboarding/OnboardingFlow.tsx

type OnboardingStep = 'identity' | 'ritual' | 'setup' | 'ready';

export function OnboardingFlow({ system, onComplete }) {
  const [step, setStep] = useState<OnboardingStep>('identity');
  
  const steps: OnboardingStep[] = ['identity', 'ritual', 'setup', 'ready'];
  const currentIndex = steps.indexOf(step);
  
  const goNext = () => {
    if (currentIndex < steps.length - 1) {
      setStep(steps[currentIndex + 1]);
    } else {
      onComplete();
    }
  };
  
  const goBack = () => {
    if (currentIndex > 0) {
      setStep(steps[currentIndex - 1]);
    }
  };
  
  switch (step) {
    case 'identity':
      return <IdentityReveal {...} onNext={goNext} />;
    case 'ritual':
      return <RitualReveal {...} onNext={goNext} onBack={goBack} />;
    case 'setup':
      return <SetupChecklist {...} onComplete={goNext} onBack={goBack} />;
    case 'ready':
      return <ReadyToStart {...} onStartNow={onComplete} onBack={goBack} />;
  }
}
```

**Move feedback rating:** The "How well did I understand your situation?" rating should appear AFTER the first rep is completed, not during onboarding. Users don't have enough context yet.

---

## 3. Daily/Logging Screen (Today) (P1)

**Current state:** Serves as home but has unclear hierarchy, confusing 7-day dots, and disconnected tab bar.

### Problems to Fix

1. Tab bar feels disconnected from content
2. Visual hierarchy is muddy‚Äîeverything has similar weight
3. 7-day dots are confusing (what do T F S S M T mean?)
4. "Complete your setup (0/5)" feels like homework
5. No clear visual distinction for primary CTA

### Implementation

**Restructured Today Screen:**

```jsx
// components/TodayScreen.tsx

export function TodayScreen({ habit, stats, setupProgress }) {
  return (
    <div className="today-screen">
      {/* Header */}
      <header className="today-header">
        <span className="today-label">YOUR HABIT</span>
        <button className="menu-button" aria-label="Menu">
          {/* Hamburger or three dots icon */}
        </button>
      </header>
      
      {/* Primary: Habit Card */}
      <section className="habit-card-section">
        <div className="habit-card">
          <div className="habit-emoji">{habit.emoji}</div>
          
          <p className="ritual-statement">
            "{habit.ritualStatement}"
          </p>
          
          {/* Simplified Progress */}
          <div className="week-progress">
            <span className="week-label">Week 1 Progress</span>
            <div className="progress-dots">
              {[0, 1, 2, 3, 4, 5, 6].map((day) => (
                <div 
                  key={day}
                  className={`progress-dot ${getDotState(day, stats)}`}
                />
              ))}
            </div>
            <span className="day-label">
              Day {stats.currentDay} of 7
            </span>
          </div>
        </div>
      </section>
      
      {/* Primary CTA - Dominant */}
      <section className="primary-action">
        <button className="btn-primary btn-large">
          Mark today's rep
        </button>
        
        {/* Secondary actions - subtle */}
        <div className="secondary-actions">
          <button className="btn-text-small">
            I did it earlier
          </button>
          <button className="btn-text-small">
            I can't today
          </button>
        </div>
      </section>
      
      {/* Nudges - Lower priority */}
      {setupProgress.remaining > 0 && (
        <section className="nudge-section">
          <NudgeCard 
            icon="‚öôÔ∏è"
            text={`Finish setup (${setupProgress.completed}/${setupProgress.total})`}
            href="/setup"
          />
        </section>
      )}
      
      {/* Tab Navigation - Footer */}
      <nav className="tab-nav">
        <TabButton icon="üìã" label="System" href="/system" />
        <TabButton icon="üìà" label="Journey" href="/journey" active />
        <TabButton icon="‚ú®" label="Self" href="/self" />
      </nav>
    </div>
  );
}

function getDotState(day: number, stats: Stats): string {
  if (day > stats.currentDay - 1) return 'future';
  if (stats.completedDays.includes(day)) return 'completed';
  if (stats.missedDays.includes(day)) return 'missed';
  return 'incomplete';
}
```

**Improved Styling:**

```css
.today-screen {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  padding: var(--space-4);
  padding-bottom: 80px; /* Room for tab nav */
}

.today-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-5);
}

.today-label {
  font-family: var(--font-body);
  font-size: var(--text-xs);
  font-weight: 500;
  color: var(--text-tertiary);
  letter-spacing: 0.05em;
}

/* Habit Card - Hero element */
.habit-card {
  background: var(--bg-secondary);
  border: 1px solid var(--bg-tertiary);
  border-radius: 16px;
  padding: var(--space-5);
  text-align: center;
  margin-bottom: var(--space-5);
}

.habit-emoji {
  font-size: 32px;
  margin-bottom: var(--space-3);
}

.ritual-statement {
  font-family: var(--font-display);
  font-size: var(--text-lg);
  font-weight: 500;
  color: var(--text-primary);
  line-height: 1.4;
  margin-bottom: var(--space-4);
}

/* Week Progress - Cleaner design */
.week-progress {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-2);
}

.week-label {
  font-size: var(--text-xs);
  color: var(--text-tertiary);
}

.progress-dots {
  display: flex;
  gap: var(--space-2);
}

.progress-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: var(--bg-tertiary);
}

.progress-dot.completed {
  background: var(--accent-primary);
}

.progress-dot.missed {
  background: var(--error);
  opacity: 0.5;
}

.progress-dot.future {
  background: var(--bg-tertiary);
  border: 1px dashed var(--text-tertiary);
}

.day-label {
  font-size: var(--text-sm);
  color: var(--text-secondary);
}

/* Primary CTA - Dominant */
.primary-action {
  margin-bottom: var(--space-5);
}

.btn-large {
  width: 100%;
  padding: var(--space-4);
  font-size: var(--text-base);
}

.secondary-actions {
  display: flex;
  justify-content: center;
  gap: var(--space-4);
  margin-top: var(--space-3);
}

.btn-text-small {
  background: none;
  border: none;
  font-size: var(--text-sm);
  color: var(--text-tertiary);
  cursor: pointer;
}

.btn-text-small:hover {
  color: var(--text-secondary);
}

/* Tab Navigation - Fixed footer */
.tab-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  justify-content: space-around;
  background: var(--bg-secondary);
  border-top: 1px solid var(--bg-tertiary);
  padding: var(--space-3) var(--space-4);
  padding-bottom: calc(var(--space-3) + env(safe-area-inset-bottom));
}

/* For centered mobile frame on desktop */
@media (min-width: 768px) {
  .tab-nav {
    max-width: 480px;
    left: 50%;
    transform: translateX(-50%);
    border-radius: 0 0 24px 24px;
  }
}
```

### 7-Day Dots Clarification

Replace confusing letter labels with a cleaner "Day X of 7" format:

```jsx
// Instead of: T F S S M T Today
// Use this pattern:

<div className="week-progress">
  <div className="progress-bar-container">
    {/* Visual dots without letter labels */}
    <div className="progress-dots">
      {[1, 2, 3, 4, 5, 6, 7].map((day) => (
        <div 
          key={day}
          className={`progress-dot ${getState(day)}`}
          title={`Day ${day}`}
        />
      ))}
    </div>
  </div>
  
  {/* Clear text label */}
  <span className="progress-text">
    Day {currentDay} of 7 ‚Ä¢ Week 1
  </span>
</div>
```

---

## 4. Your System Screen (P2)

**Current state:** Shows ritual, recovery, and "Why this works" in card format.

### Problems to Fix

1. "Back to Plan" navigation is confusing
2. Ritual visualization could be stronger (show flow visually)
3. "Re-tune your system" is too prominent
4. "WHY THIS WORKS FOR YOU" feels like marketing

### Implementation

```jsx
// components/SystemScreen.tsx

export function SystemScreen({ system }) {
  return (
    <div className="system-screen">
      <header className="screen-header">
        <button className="back-button" onClick={() => navigate('/today')}>
          ‚Üê Today
        </button>
        <h1 className="screen-title">Your System</h1>
      </header>
      
      {/* The Ritual - Visual flow */}
      <section className="system-card">
        <h2 className="card-label">THE RITUAL</h2>
        
        <div className="ritual-flow">
          {/* Anchor */}
          <div className="flow-step">
            <div className="flow-icon anchor-icon">
              {system.emoji}
            </div>
            <div className="flow-content">
              <span className="flow-label">Anchor</span>
              <p className="flow-text">{system.anchor}</p>
            </div>
          </div>
          
          <div className="flow-connector" />
          
          {/* Action */}
          <div className="flow-step">
            <div className="flow-icon action-icon">
              ‚Üí
            </div>
            <div className="flow-content">
              <span className="flow-label">Action</span>
              <p className="flow-text">{system.action}</p>
            </div>
          </div>
          
          {system.then && (
            <>
              <div className="flow-connector" />
              
              {/* Then */}
              <div className="flow-step">
                <div className="flow-icon then-icon">
                  ‚úì
                </div>
                <div className="flow-content">
                  <span className="flow-label">Then</span>
                  <ul className="flow-list">
                    {system.then.map((item, i) => (
                      <li key={i}>{item}</li>
                    ))}
                  </ul>
                </div>
              </div>
            </>
          )}
        </div>
        
        <button className="btn-text edit-link">
          Edit ritual ‚Üí
        </button>
      </section>
      
      {/* When You Miss */}
      <section className="system-card">
        <h2 className="card-label">WHEN YOU MISS</h2>
        
        <blockquote className="recovery-statement">
          "{system.recovery}"
        </blockquote>
        
        <p className="recovery-note">
          Missing once is an accident. Missing twice is a new habit forming.
        </p>
        
        <button className="btn-text edit-link">
          Edit ‚Üí
        </button>
      </section>
      
      {/* Why This Works - Collapsible, de-emphasized */}
      <details className="science-section">
        <summary className="science-trigger">
          Why this approach works
        </summary>
        <div className="science-content">
          <ul>
            {system.whyItFits.map((reason, i) => (
              <li key={i}>{reason}</li>
            ))}
          </ul>
        </div>
      </details>
      
      {/* Re-tune - De-emphasized */}
      <div className="retune-section">
        <button className="btn-outline-subtle">
          Re-tune your system
        </button>
      </div>
    </div>
  );
}
```

**Styling for Ritual Flow:**

```css
.ritual-flow {
  display: flex;
  flex-direction: column;
  gap: 0;
}

.flow-step {
  display: flex;
  gap: var(--space-3);
  align-items: flex-start;
}

.flow-icon {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--bg-tertiary);
  border-radius: 8px;
  font-size: 18px;
  flex-shrink: 0;
}

.flow-content {
  flex: 1;
  padding-bottom: var(--space-3);
}

.flow-label {
  font-size: var(--text-xs);
  color: var(--text-tertiary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.flow-text {
  font-size: var(--text-base);
  color: var(--text-primary);
  margin-top: var(--space-1);
}

.flow-connector {
  width: 2px;
  height: 16px;
  background: var(--bg-tertiary);
  margin-left: 17px; /* Center under icon */
}

/* De-emphasized re-tune button */
.btn-outline-subtle {
  width: 100%;
  padding: var(--space-3);
  background: transparent;
  border: 1px solid var(--bg-tertiary);
  border-radius: 8px;
  color: var(--text-secondary);
  font-size: var(--text-sm);
  cursor: pointer;
}

.btn-outline-subtle:hover {
  border-color: var(--text-tertiary);
}

/* Science section - collapsible */
.science-section {
  margin-bottom: var(--space-4);
}

.science-trigger {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  cursor: pointer;
  padding: var(--space-3) 0;
}

.science-content {
  padding: var(--space-3);
  background: var(--bg-secondary);
  border-radius: 8px;
  font-size: var(--text-sm);
  color: var(--text-secondary);
}
```

---

## Implementation Checklist

### P0 ‚Äî Demo Blockers (Do First)

- [ ] Add responsive wrapper for desktop viewing
- [ ] Improve landing page copy and CTA
- [ ] Fix visual hierarchy on Today screen (make CTA dominant)

### P1 ‚Äî Beta Readiness

- [ ] Split post-design reveal into 4 screens
- [ ] Move feedback rating to post-first-rep
- [ ] Clean up 7-day progress visualization
- [ ] Implement state-based home routing
- [ ] Fix navigation labels ("Back to Plan" ‚Üí "‚Üê Today")

### P2 ‚Äî Polish

- [ ] Add ritual flow visualization to System screen
- [ ] De-emphasize "Re-tune" button
- [ ] Implement habit draft vs active habit separation
- [ ] Add conversation preview to landing page

---

## Design System Reference

Refer to `/mnt/project/design_brief.md` for:
- Color variables
- Typography scale
- Spacing system
- Component specifications
- Animation guidelines

Key principles to maintain:
- Conversation is the hero
- Warmth through restraint
- No gradients, no bouncy animations
- Never use pure white (#FFF) or pure black (#000)
- Generous whitespace around conversation elements

---

## Patterns to Study

**For daily/home screen:**
- Streaks app (iOS) ‚Äî Clean daily action focus
- Things 3 ‚Äî "Today" view simplicity

**For onboarding flows:**
- Headspace ‚Äî Multi-screen reveal with warmth
- Calm ‚Äî Permission-giving tone

**For progress visualization:**
- GitHub contribution graph ‚Äî Simple dot grid
- Duolingo ‚Äî Clear progress without shame

---

## Questions to Resolve

1. **Feedback rating timing:** Confirm moving from onboarding to post-first-rep
2. **Setup checklist persistence:** Should checked items persist if user navigates away?
3. **Miss handling:** What happens when user taps "I can't today"? Does this count as a miss or defer?
4. **Week boundaries:** What day does Week 1 start? User's first rep day or calendar week?

---