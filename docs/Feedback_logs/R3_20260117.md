# Habit Stacker — Onboarding “Wow” Upgrade (Designer Feedback for Claude Code)

## 0) Summary: What’s not working conceptually today

### The core failure mode
The onboarding currently *behaves like a branching menu / deterministic form*, not an expert consult. Even when the model output is “fine,” the interaction pattern makes it feel like:
- rails + generic fields
- shallow “pick between variants”
- recommendations that don’t feel earned

### Symptoms (what users feel)
- “This is scatter-shot and generic.”
- “I’m being hard-railed into options.”
- “I still don’t know what excellence looks like in this domain.”
- “I’m not being asked the right questions; I’m filling forms.”
- “The system never tells me what to do, and why.”

### What “Wow” must feel like
Two emotions, consistently:
1) **Authority:** “This system actually understands what it means to excel at X.”  
2) **Being understood:** “It’s actively listening and adapting with minimal friction.”

---

## 1) Proposed design updates (Options 1–6) → concrete capabilities

### Option 1 — Model of Excellence (Portrait-first, not habit-first)
**Update:** Before recommending habits, the system shows a credible picture of “what excellence looks like” in real life (behaviors, milestones, traps, and progression).

### Option 2 — Domains as Worlds (situated guidance)
**Update:** Each domain has a distinct “world model” (norms, traps, leverage points), so the AI feels domain-aware in the moment.

### Option 3 — Structured Wisdom (templates + scaffolds)
**Update:** Replace raw generative variety with curated, opinionated scaffolds (domain playbooks, archetypes, progression ladders). The AI reasons *over* these scaffolds.

### Option 4 — Guided Inference (replace forms with adaptive taps)
**Update:** Replace generic text fields with a “micro-questionnaire” the AI uses to infer constraints quickly (mostly tap answers, minimal typing).

### Option 5 — Earned Recommendations (show decision logic)
**Update:** Every recommended habit is justified with simple, user-facing reasoning: “Given X, Y, Z, here’s the best Week-1 wedge.”

### Option 6 — Optimize Felt Intelligence (coherence over flexibility)
**Update:** Reduce choice overload. Use fewer options, stronger POV, and “inevitability” (this is the obvious next step for you).

---

## 2) User Stories (mapped to Options 1–6)

> **Claude Code ask:** Update the PRD’s Key Flows + Epic A stories to include the following user stories and acceptance criteria. These are onboarding-critical.

### A) Authority & Domain “World Model” (Options 1, 2, 3)
**US-A1 (Portrait of Excellence)**  
As a user selecting a domain/sub-problem, I want to see a concise “portrait” of what people who succeed in this area actually do and think, so I trust the system’s guidance.

**US-A2 (Progression Ladder)**  
As a user, I want to see a phased progression (Week 1 → Month 1 → Month 3) tied to observable behaviors, so I understand how small actions compound.

**US-A3 (Common Traps & Leverage Points)**  
As a user, I want the system to call out common failure modes and the highest-leverage starting move, so I feel guided rather than guessing.

**US-A4 (Domain-specific language + examples)**  
As a user, I want the UI and questions to feel domain-specific (finance vs reading), so the system doesn’t feel generic.

**Acceptance criteria (Authority)**
- The onboarding includes a **read-only portrait + progression** before habit selection.
- The content references domain-relevant milestones and typical traps.
- The system uses fewer, sharper statements rather than many options.

---

### B) Being Understood (Guided Inference) (Option 4)
**US-B1 (Micro-questionnaire)**  
As a user, I want to answer a small number of quick, adaptive questions (mostly taps), so the system can personalize without making me type paragraphs.

**US-B2 (Assumption-checking)**  
As a user, I want the system to reflect its inference (“Sounds like evenings are hard; is that right?”), so I feel seen and can correct it easily.

**US-B3 (Minimal typing)**  
As a user, I want free-text to be optional and only requested when it materially improves outcomes, so onboarding stays frictionless.

**Acceptance criteria (Being understood)**
- < 60 seconds of input for most users.
- Tap-based answers cover timing, energy, environment, barriers, and preference.
- System confirms inferred constraints in 1–2 lines.

---

### C) Recommendation Quality & “Earning the Right” to Advise (Options 5, 6)
**US-C1 (Shortlist of concrete habits)**  
As a user, I want 1–3 concrete Week-1 habit candidates (behaviors, not schedules), so I know exactly what I’ll do.

**US-C2 (Decision logic)**  
As a user, I want a short justification for why each habit is suggested *for me*, so the recommendation feels earned.

**US-C3 (Clear recommendation)**  
As a user, I want the system to recommend a default option when confidence is high, so I don’t feel burdened by choice.

**US-C4 (Coherence over customization)**  
As a user, I want fewer decisions and a coherent plan that “just makes sense,” so the product feels intelligent and trustworthy.

**Acceptance criteria (Earned recs)**
- Habit options are **behaviors** (e.g., “log one expense”), not difficulty tiers.
- Each option includes “why this works in Week 1” + “why it fits you.”
- Default recommended option is clearly marked (when applicable).

---

## 3) Updated onboarding flow overview (how it should run)

### Step intent
- **First:** establish authority (world model + portrait)  
- **Second:** establish being understood (guided inference)  
- **Third:** recommend an obvious Week-1 wedge (earned, justified)  
- **Fourth:** compress into a survivable system + immediate first rep

### Flow (high level)
1) Domain + sub-problem selection  
2) Micro-questionnaire (tap-based) + inference confirmation  
3) Portrait of Excellence + progression ladder (read-only)  
4) Week-1 habit shortlist (1–3 concrete behaviors) + recommendation rationale  
5) Habit system design (Anchor → Action → Prime optional → Recovery)  
6) Week-1 contract + Start first rep now

---

## 4) Mermaid diagrams (onboarding flow)

### 4.1 Flowchart — “Wow” onboarding (consult, not menu)
```mermaid
flowchart TD
  A[Start] --> B[Select Domain]
  B --> C[Select Sub-problem]
  C --> D[Micro-questionnaire: taps]
  D --> E[System infers constraints]
  E --> F{User confirms inference?}
  F -- Yes --> G[Portrait of Excellence: read-only]
  F -- No --> D

  G --> H[Progression ladder: Week1 -> Month1 -> Month3]
  H --> I[Week-1 habit shortlist: 1 to 3 behaviors]
  I --> J[System recommends default + rationale]
  J --> K{User selects habit}
  K --> L[Habit system design: Anchor, Action, Prime optional, Recovery]
  L --> M[Week-1 contract: 2-line snapshot]
  M --> N{Start first rep now?}
  N -- Yes --> O[Run first rep: <= 2 minutes]
  N -- Defer --> P[Route to runtime with reminder]
  O --> Q[Enter Runtime Loop]
  P --> Q
````

### 4.2 Sequence — “Guided inference” consult feel

```mermaid
sequenceDiagram
  participant U as User
  participant S as System

  U->>S: Selects domain + sub-problem
  S->>U: Asks 3-6 tap questions (timing, energy, barrier, preference)
  U->>S: Answers taps
  S->>U: Reflects inference in 1-2 lines (assumption check)
  U->>S: Confirms or corrects
  S->>U: Shows portrait + progression ladder (read-only)
  S->>U: Proposes 1-3 concrete Week-1 habits + rationale
  U->>S: Picks one habit
  S->>U: Proposes habit system (anchor/action/recovery) with brief teaching
  U->>S: Accepts or edits lightly
  S->>U: Shows Week-1 contract + Start rep CTA
```

---

## 5) Implementation notes / guardrails for Claude Code (so outputs stop feeling deterministic)

### Core interaction pattern to use

* **Infer → Reflect → Recommend → Justify → Commit**
* Keep choices **few** and **meaningful**.
* Avoid “choose between difficulty tiers” unless the habit is already chosen.

### Content strategy (avoid scatter-shot)

* Build a **Domain Playbook pack** (lightweight templates), used as scaffolding:

  * Portrait of Excellence bullets
  * Progression ladder (Week 1 / Month 1 / Month 3)
  * Common traps
  * Leverage point starter moves
  * Candidate Week-1 habits (small set, high quality)

### Personalization strategy (avoid hard rails)

* Use questionnaire answers to **rank** and **explain**:

  * timing fit
  * energy fit
  * barrier fit
  * preference fit

### UX strategy (felt intelligence)

* The system must “show it understands” *before* it prescribes.
* The user should never feel like they must “invent” the right plan.

---

## 6) Direct ask to Claude Code

Please update the PRD to:

1. Incorporate Options 1–6 as explicit onboarding design principles and capabilities.
2. Add the user stories (US-A*, US-B*, US-C*) into Epic A / Key Flows.
3. Update the onboarding flow to match the Mermaid diagram sequence:

   * micro-questionnaire + inference confirmation
   * portrait + progression ladder
   * earned habit shortlist with rationale
   * compressed system design
   * Week-1 contract + first rep
4. Ensure habit selection is **behavior-first**, and scheduling/difficulty is secondary.

