# Habit Stacker Feedback: Post-Rep Reflection

**Date:** February 3, 2026  
**Priority:** P0 — Critical path for M1 success  
**Area:** Post-rep reflection conversation

---

## Problem Statement

The post-rep reflection is the most critical touchpoint in the daily loop, but currently delivers a generic, disengaged experience that undermines the trust built during intake.

**Current behavior:** User shares meaningful insight + friction point → AI responds with "Thanks for sharing. That's useful context. Anything else on your mind?"

**Expected behavior:** AI engages specifically with what user shared, demonstrating the same insight and understanding that made intake feel like co-design.

This is the "thin daily experience" problem identified in the PRD as the primary M1 risk. The intake earns trust through demonstrated understanding; the reflection must replenish that trust, not spend it.

---

## Test Case That Failed

**User input after first rep:**
> "Good. Found that I was using about 10,400 yen per day. Quit a bit higher than expected. Some small friction cause I realized the normal credit card app doesn't provide up to date summaries and I had to go fishing through alerts for a hack"

**AI response:**
> "Thanks for sharing. That's useful context. Anything else on your mind?"

**What's wrong:**
1. No acknowledgment of the emotional beat (surprise at the number)
2. No connection to user's original goal ("save more money" → now has awareness)
3. No response to friction that could kill the habit
4. Generic closing question vs. specific engagement

---

## Required Changes

### 1. Reflection Prompt Must Engage With User Input

The post-rep reflection needs a prompt that extracts and responds to:

| Signal in User Input | AI Should Do |
|---------------------|--------------|
| Quantitative insight (numbers, amounts) | Reflect it back, ask if it surprised them, connect to goal |
| Emotional language (surprised, anxious, proud) | Acknowledge the feeling, normalize it |
| Friction or obstacles mentioned | Flag as risk, offer to problem-solve now or later |
| Success or positive observation | Celebrate specifically, reinforce identity |
| Confusion or uncertainty | Clarify, reassure, offer guidance |

**Example response for the test case:**

> "¥10,400 a day — that's real visibility you didn't have yesterday. Did that number surprise you?
>
> The friction you hit is worth noting: if the app doesn't show what you need, that's a daily annoyance that could derail things. Want to brainstorm a workaround now, or see if the alerts hack works for a few more days first?"

### 2. Separate "First Rep" Reflection From Ongoing Reflections

The first rep is a milestone moment. The AI should:
- Acknowledge it's the first one (which it does: "First one done. That's the hardest part.")
- Ask how it felt (which it does)
- **Actually engage with the answer** (which it doesn't)

After day 1, the reflection can be lighter, but should still respond to content.

### 3. Quick Reply Pills Should Match Question Type

**Current state:** Open question ("Anything else on your mind?") + closing pills ("Nope, all good" / "Actually yes" / "That's it")

**Problem:** The pills signal "we're wrapping up" which undermines the invitation to share more.

**Fix options:**
- If asking open question → remove pills, encourage free response
- If offering pills → make them contextual to what user just shared

**Example contextual pills for the test case:**
- "Tell me more about the friction"
- "That number feels right"  
- "That's higher than I expected"
- "I'm done for tonight"

### 4. Pattern Finder Role Should Be Active From Day 1

The PRD defines a "Pattern Finder" role that identifies what's working and what breaks. This doesn't require 7+ days of data to be useful.

On day 1, Pattern Finder can:
- Note the friction user discovered
- Celebrate the first data point
- Set expectation for what patterns will emerge

**Example:**
> "I'm filing away that friction note — if the app keeps being annoying, we'll figure out a better tool. For now, you've got your first data point. A few more days and we'll start seeing patterns."

---

## Implementation Notes

### Prompt Structure Suggestion

```
POST_REP_REFLECTION_PROMPT:

You are the Habit Stacker AI in "Reflection Partner" mode. The user just completed a rep and shared their experience.

Context:
- Habit: {habit_description}
- Rep number: {rep_count}
- User's original goal: {goal_from_intake}
- User's original blocker: {blocker_from_intake}

User's reflection: {user_message}

Your response should:
1. Engage specifically with what they shared (not generic acknowledgment)
2. If they mention numbers/data: reflect it back, connect to their goal
3. If they mention friction/obstacles: flag it, offer to help
4. If they mention emotions: acknowledge and normalize
5. Keep it conversational, not clinical
6. End with a specific follow-up, not generic "anything else?"

Do NOT:
- Say "Thanks for sharing" or "That's useful context"
- Ask generic questions like "Anything else on your mind?"
- Ignore concrete details they provided
```

### State to Pass to Reflection

The reflection prompt needs access to:
- Original goal from intake
- Original blocker from intake  
- Habit description
- Rep count (is this first rep?)
- Any previous friction notes

This allows the AI to connect today's reflection to the user's broader context.

---

## Success Criteria

After this fix, when a user shares something specific in their reflection:

✓ AI response references specific content from user's message  
✓ AI connects observation to user's original goal/blocker when relevant  
✓ AI acknowledges emotional content (surprise, frustration, pride)  
✓ AI flags friction as something to monitor or solve  
✓ Follow-up question is specific to what user shared, not generic  

---

## Related PRD Sections

- "The AI's Roles" → Reflection Partner, Pattern Finder
- "Primary Risk (M1)" → thin daily experience after rich intake
- "Product Laws" → Law 6: Conversation earns recommendation

---

## Priority Rationale

This is P0 because:
1. Daily loop is where retention is won